<head>
<link rel="SHORTCUT ICON" href="/design/logo3.png" type="image/png">
</head>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<!-- DW6 -->
<head>
<!-- Copyright 2005 Macromedia, Inc. All rights reserved. -->
<title>spets_cpuz80</title>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1251" />
<link rel="stylesheet" href="mm_health_nutr.css" type="text/css" />
<script language="JavaScript" type="text/javascript">

</script>
<style type="text/css">
<!--
.СЃС‚РёР»СЊ1 {
	color: #FFFFFF;
	font-size: 16px;
}
.СЃС‚РёР»СЊ6 {font-size: 12px}
.СЃС‚РёР»СЊ8 {color: #3300CC; }
.СЃС‚РёР»СЊ10 {
	font-size: 14px;
	font-style: italic;
	font-weight: bold;
}
.СЃС‚РёР»СЊ12 {color: #FFCC00}
.СЃС‚РёР»СЊ13 {color: #FFFFFF}
.СЃС‚РёР»СЊ14 {color: #00CC33}
.СЃС‚РёР»СЊ15 {color: #0000FF}
.СЃС‚РёР»СЊ16 {color: #FFFFFF; font-size: 16px; font-weight: bold; }
.СЃС‚РёР»СЊ17 {color: #FFFFFF; font-size: 16px; font-family: Calibri; }
.СЃС‚РёР»СЊ18 {color: #0000FF; font-size: 16px; font-family: Calibri; }
.СЃС‚РёР»СЊ21 {font-size: 16px}
.стиль3 {color: #FFFFFF; font-size: 16px; font-family: Calibri; font-weight: bold; }
-->
</style>
</head>
<body bgcolor="#0099FF">
<table width="100%" border="0" cellspacing="0" cellpadding="0">
  <tr bgcolor="#0099FF">
    <td colspan="3" rowspan="2" bgcolor="#0099FF"><img src="design/logo1.png" alt="Header image" width="382" height="101" border="0" /></td>
    <td height="50" colspan="" align="center" valign="bottom" nowrap="nowrap" bgcolor="#0099FF" class="СЃС‚РёР»СЊ1" id="logo"><h3 class="СЃС‚РёР»СЊ13">www.spetsialist-mx.ru</h3></td>
    <td width="15" bgcolor="#0099FF">&nbsp;</td>
  </tr>

  <tr bgcolor="#D5EDB3">
    <td height="51" colspan="3" align="center" valign="top" bgcolor="#0099FF" class="pageName" id="tagline"><h3 class="СЃС‚РёР»СЊ12">САЙТ О ПК &quot;СПЕЦИАЛИСТ&quot; И ЕГО КЛОНАХ</h3>    
    <h3 class="СЃС‚РёР»СЊ12">&nbsp;</h3></td>
	<td width="4" bgcolor="#0099FF">&nbsp;</td>
  </tr>

  <tr bgcolor="#0099FF">
    <td colspan="7"><img src="mm_spacer.gif" alt="" width="1" height="2" border="0" /></td>
  </tr>

 <tr>
    <td width="165" valign="top" bgcolor="#0099FF">
	<table border="0" cellspacing="0" cellpadding="0" width="165" id="navigation">
        <tr>
          <td width="165">&nbsp;<br />
		 &nbsp;<br /></td>
        </tr>
        <tr class="quote">
          <td width="165"><a href="index.html" class="navText СЃС‚РёР»СЊ6">ГЛАВНАЯ</a></td>
        </tr>
        <tr class="quote">
          <td width="165"><a href="index17.html" class="navText СЃС‚РёР»СЊ6">МИКРОПРОЦЕССОР</a></td>
        </tr>
        <tr class="quote">
         <td width="165"><a href="index22.html" class="navText СЃС‚РёР»СЊ6">КОНТРОЛЛЕР НГМД</a>
        </tr>
        <tr class="quote">
          <td width="165"><a href="index18.html" class="navText СЃС‚РёР»СЊ6">ПАМЯТЬ</a></td>
        </tr>
        <tr class="quote">
         <td width="165"><a href="index24.html" class="navText СЃС‚РёР»СЊ6">ИНТЕРФЕЙСЫ</a>
         <td>         
         </tr>
        <tr class="quote">
         <td width="165"><a href="index23.html" class="navText СЃС‚РёР»СЊ6">КОНТРОЛЛЕР ЦВЕТА</a>
         <td>         
         </tr>
        <tr class="quote">
        <td width="165"><a href="index19.html" class="navText СЃС‚РёР»СЊ6 СЃС‚РёР»СЊ14">ПРОГРАММЫ</a>
        <td>
        </tr>
        <tr class="quote">
         <td width="165"><a href="index20.html" class="navText СЃС‚РёР»СЊ6">ИГРЫ</a>
        <td>
        </tr>
        <tr class="quote">
         <td width="165"><a href="index21.html" class="navText СЃС‚РёР»СЊ6">СПЕЦИАЛИСТ МХ2</a>
         <td>
        </tr>
        <tr class="quote">
         <td width="165"><a href="index9.html" class="navText СЃС‚РёР»СЊ6">ПЛИС</a>                  
        <td>
        </tr>
        <tr class="quote">
         <td width="165"><a href="index10.html" class="navText СЃС‚РёР»СЊ6">ССЫЛКИ</a>
         <td>
        </tr>
        <tr class="quote">
         <td width="165"><a href="index11.html" class="navText СЃС‚РёР»СЊ6">ОБРАТНАЯ СВЯЗЬ</a>                 
         <td>
      </table>
 	 <br />
  	&nbsp;<br />
  	&nbsp;<br />
  	&nbsp;<br /> 	</td>
    <td width="16">&nbsp;</td>
    <td colspan="2" valign="top"><div align="center">
      <center class="стиль10">
        <p class="стиль3">МИКРОПРОЦЕССОР Z80          </p>
      </center>
      <p align="center" class="СЃС‚РёР»СЊ1"><img src="images/z80_4.png" width="383" height="211" />_<img src="images/z80_1.png" width="386" height="142" /></p>
        <p align="justify" class="СЃС‚РёР»СЊ17">Архитектура микропроцессора <strong>Z80</strong> фирмы <strong>ZILOG</strong> основывается на архитектурных принципах микропроцессора <strong>8080</strong> и позволяет выполнять все 78 команд этого микропроцессора, а также 80 дополнительных команд. Всего микропроцессор <strong>Z80</strong> имеет 696 кодов операций (в отличие от 244 кодов микропроцессора<strong> 8080</strong>). К числу особенностей микропроцессора <strong>Z80</strong> относятся: использование для питания лишь одного источника напряжением +5 В, наличие однофазного внешнего синхрогенератора, 17 внутренних регистров и встроенная схема регенерации ОЗУ.</p>
        <p align="justify" class="СЃС‚РёР»СЊ17"><strong>Логическая организация Z80</strong>. В состав <strong>Z80</strong> входят: устройство управления, регистр команд, программный счётчик, 24 регистра пользователя и арифметико - логическое устройство. Устройство управления. В <strong>Z80</strong> управляющее устройство выдаёт огромное число внутренних управляющих сигналов, а также обеспечивает формирование внешних управляющих сигналов. Регистр команд содержит 8 бит (1 байт). В <strong>Z80</strong> имеется большой блок регистров, и пересылка байтов данных к регистрам и от них является простейшей и наиболее важной чертой программирования в машинных кодах. Программный счётчик - это пара регистров, которые используются совместно, поэтому программный счётчик содержит 16 - ти битные значения. Регистры пользователя (основные регистры).<br />
          Имеется 24 регистра пользователя. Все регистры однобайтовые, хотя обычно используются парами. В арифметико - логическом устройстве (АЛУ) выполняются арифметические и логические операции. Возможно выполнение сложения и вычитания, а также АЛУ способно выполнять большое количество битовых операций и устанавливать флаги, чтобы показать результат. Схемно - графическое обозначение микропроцессора показано на рисунке.</p>
        <p align="center" class="СЃС‚РёР»СЊ1"><img src="images/z80_2.png" width="294" height="460" /><img src="images/z80_3.png" width="369" height="516" /></p>
        <p align="justify" class="СЃС‚РёР»СЊ17">D0...D7 - трёхстабильная шина данных,  по которой осуществляется обмен данными между процессором и памятью, либо между процессором и устройствами ввода - вывода;<br />
          A0...A15 - трёхстабильные выходы адресной шины,  которые выдают адреса для обмена данными с памятью (64 кБайт максимум) и с устройствами ввода - вывода (65536 каналов максимум);<br />
          /М1 - выходной сигнал указывает, что в текущем машинном цикле происходит чтение кода операции из памяти;<br />
          /MREQ - выходной сигнал указывает,  что на адресной шине установлен адрес для операции чтения памяти или записи в память;<br />
          /IORQ - выходной сигнал указывает, что пика адреса содержит адрес внешнего устройства для операции ввода или вывода. Кроме того, сигнал  генерируется также совместно с сигналом /M1 в цикле подтверждения прерывания. Тем самым устройству, запросившему прерывание, указывается, что вектор прерывания может быть помещен на шину данных;<br />
          /RD - выходной сигнал указывает,  что процессор выполняет цикл чтения данных из памяти или устройства ввода - вывода;<br />
/WR - выходной сигнал указывает,  что процессор выдает на шину данных данные, предназначенные для записи в адресованную ячейку памяти или устройство вывода;<br />
          CLK - входной сигнал предназначен для ввода однофазной тактовой синхронизации;<br />
          /RST -входной сигнал имеет самый высокий приоритет и приводит процессор в начальное состояние;<br />
          /RFSH - выходной сигнал указывает, что младшие 7 разрядов шины адреса содержат адрес регенерации для динамической памяти и текущий сигнал /MREQ может использоваться для восстановления информации;<br />
          /HALT - выходной сигнал указывает, что процессор выполняет команду останова программы и ожидает маскируемое либо немаскируемое прерывание, чтобы завершить эту команду и начать обработку подпрограммы прерывания;<br />
          /WAIT - входной сигнал указывает процессор, что адресованная ячейка памяти или устройство ввода - вывода ещё не готово к передаче данных. Ппроцессор генерирует состояние ожидания (холостые такты, в которых не происходит никаких изменений с процессора) до тех пор, пока активен этот сигнал;<br />
          /INT - входной сигнал формируемый устройством ввода - вывода, анализируется в конце выполнения текущей команды;<br />
          /NMI - входной сигнал, запускаемый отрицательным фронтом. Фронт запуска активизирует внутренний триггер NMI;<br />
          /BUSRQ - входной сигнал делает запрос процессора на перевод всех его шин в высокоомное состояние для того, чтобы другие устройства смогли управлять этими шинами. Если активизирован этот сигнал, то процессор переводит шины в высокоомное состояние как только завершён текущий машинный цикл;<br />
          /BUSACK - выходной сигнал сообщает запрашивающему устройству, что шины адреса и данных, а также трехстабильные сигналы управления находятся в высокоомном состоянии, и внешнее устройство может ими управлять;<br />
          VCC - питание +5   В;<br />
          GND - общий провод.</p>
        <center>
          <p class="стиль3">ПОДКЛЮЧЕНИЕ Z80 </p>
        </center>
        <p align="justify" class="СЃС‚РёР»СЊ17">Для начала, настоятельно рекомендую прочесть реферат, написанный А. В. Шевцовым <a href="Docs/z80.doc" class="СЃС‚РёР»СЊ15">&quot;Пользователю ПК &quot;Специалист&quot; с CPU Z80&quot;</a>. После этого можно начинать переделывать схему под микропроцессор <strong>Z80</strong> (если автор реферата не отбил желание это сделать). Ниже приведенны две одинаковые схемы, отличающиеся друг от друга некоторыми деталями.</p>
        <p align="center" class="СЃС‚РёР»СЊ1 СЃС‚РёР»СЊ17"><img src="schemes/z80.PNG" width="560" height="529" /></p>
  <p align="justify" class="СЃС‚РёР»СЊ17"><strong>&quot;Турбирование&quot; микропроцессора Z80</strong> представлено схемой, изображённой ниже. Элемент D4 обеспечивает нормальную работу регистра сдвига <strong>К155ИР1</strong> при работе в &quot;Турбо&quot; - режиме. Без этой схемы изображение двоится. Схему на элементе D4 необходимо собрать в первую очередь - на работу регистра <strong>К155ИР1</strong> в обычном режиме схема не влияет. Мультиплексор D2 коммутирует сигналы только для формирования сигналов <strong>RAS</strong>, <strong>CAS</strong>, <strong>WE</strong>, <strong>CLC</strong>. Частота, подаваемая на синхрогенератор (<strong>К155ИЕ5</strong>, <strong>К155ИЕ7</strong>) и контроллёр дисковода, не должна изменяться. Эти блоки всегда остаются подключенными к счётчику DD8 (<strong>К155ИЕ7</strong>) в компьютере. Мультиплексор D2 должен вносить минимальную задержку сигнала (серия К531), триггер D3.1 (<strong>RAS</strong>) должен иметь достаточную нагрузочную способность (серия К155). D3.1 - формирует новый сигнал <strong>RAS</strong> (старый нужно отключить). SB1 по схеме - фиксирующая кнопка или тумблер.<br />
    Схема не содержит циклов ожидания процессора, поэтому необходима тщательная настройка иначе будет сбоить. Главная причина сбоев - неустойчивая работа ОЗУ, которая зависит от фазы сигнала <strong>RAS</strong> относительно сигнала <strong>CAS</strong>. Этот параметр разный для микросхем памяти <strong>К565РУ5В</strong>, <strong>Г</strong>, <strong>Д</strong> и <strong>К565РУ7В</strong>, <strong>Г</strong>, <strong>Д</strong>. А микросхемы <strong>К565РУ5Д</strong> на частоте 4МГц вообще работают на пределе.<br />
    Элементы D1.2, D1.3 обеспечивают задержку. Число инверторов должно быть чётным и подбирается экспериментально - пока не будет устойчивой работы. Если со 155 серией инверторов не получится устойчивой работы, то можно провести эксперименты с более быстрыми сериями инверторов - 555, 531, 530. После некоторых мучений можно добиться нормальной устойчивой работы ПК, но бывает еще так, что в начале (после включения) компьютер работает стабильно, а со временем опять начинает сбоить - здесь хорошо помогает принудительное охлаждение ОЗУ с помощью небольшого кулера. В &quot;Турбо&quot; - режиме возможно начнет плохо читать дискеты контроллер дисковода.<br />
    Схема успешно испытана на нескольких ПК &quot;Специалист_МХ&quot;, количество инверторов на каждом компьютере приходилось подбирать экспериментально.</p>
  <p align="center" class="СЃС‚РёР»СЊ16"><img src="schemes/turbo_z80.png" width="761" height="471" /></p>
  </div></td>
    <td width="15">&nbsp;</td>
  <td width="4" valign="top">&nbsp;</td>
	<td width="4">&nbsp;</td>
  </tr>
  <tr>
    <td width="165">&nbsp;</td>
    <td width="16">&nbsp;</td>
    <td width="201">&nbsp;</td>
    <td width="997" class="СЃС‚РёР»СЊ8"><div align="center">This site is &copy; Copyright Fifan 2007-2021, All Rights Reserved.</div></td>
    <td width="15">&nbsp;</td>
    <td width="4">&nbsp;</td>
	<td width="4">&nbsp;</td>
  </tr>
</table>
</body>
</html>
